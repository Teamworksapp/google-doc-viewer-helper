"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var hasOwnProperty=Object.prototype.hasOwnProperty,objectToQueryString=function(r){var t=[];return Object.keys(r).forEach(function(e){t.push("".concat(e,"=").concat(encodeURIComponent(r[e])))}),t.join("&")},getFileExtension=function(e){if(!e)return"";var r=e.toLowerCase().split(".");return 1===r.length||""===r[0]&&2===r.length||-1!==r[r.length-1].indexOf("/")?"":r.pop()},isEmpty=function(e){if(null==e)return!0;if(0<e.length)return!1;if(0===e.length)return!0;if("object"!==_typeof(e))return!0;for(var r in e)if(hasOwnProperty.call(e,r))return!1;return!0},generateUrl=function(e,r){var t=isEmpty(r)?"":"?".concat(objectToQueryString(r));return"".concat(e).concat(t)},supportedFormats={jpeg:"jpeg",png:"png",gif:"gif",tiff:"tiff",bmp:"bmp",mpeg4:"mpeg4","3gpp":"3gpp",mov:"mov",avi:"avi",mpegps:"mpegps",wmv:"wmv",flv:"flv",ogg:"ogg",doc:"doc",docx:"docx",xls:"xls",xlsx:"xlsx",ppt:"ppt",pptx:"pptx",pdf:"pdf",svg:"svg",eps:"eps",ps:"ps",ttf:"ttf",xps:"xps",mts:"mts"},supportedViewers={default:{baseUrl:"https://docs.google.com/viewer",options:{embedded:{key:"embedded",options:[!0,!1]},url:{key:"url",required:!0,mustEncode:!0}}},gview:{baseUrl:"https://docs.google.com/gview",options:{embedded:{key:"embedded",options:[!0,!1]},url:{key:"url",required:!0,mustEncode:!0}},deprecated:!0}},hasOwnProperty$1=Object.prototype.hasOwnProperty,isSupportedFormat=function(e){var r=e?e.toLowerCase():"";return-1!==r.indexOf(".")&&(r=getFileExtension(r)),hasOwnProperty$1.call(supportedFormats,r)},validators={isSupportedFormat:isSupportedFormat},hasOwnProperty$2=Object.prototype.hasOwnProperty,getBadParamsMessage=function(e){return'Parameter "'.concat(e,'" was passed in with params object, you may obtain unexpected results')},generateGoogleDocUrlWithParams=function(e,r){var t=supportedViewers[r]||supportedViewers.default;return validators.isSupportedFormat(e.url)||console.error('Invalid parameter "url", Google doc will still be returned but may yield unexpected results.'),generateUrl(t.baseUrl,e)},generateEmbeddedGoogleDocUrl=function(e,r,t){r&&(hasOwnProperty$2.call(r,"url")&&console.warn(getBadParamsMessage("url")),hasOwnProperty$2.call(r,"embedded")&&console.warn(getBadParamsMessage("embedded")));var o={embedded:!0,url:e},n=Object.assign({},o,r);return generateGoogleDocUrlWithParams(n,t)},generators={generateEmbeddedGoogleDocUrl:generateEmbeddedGoogleDocUrl,generateGoogleDocUrlWithParams:generateGoogleDocUrlWithParams},gDocViewHelper={generateGoogleDocUrlWithParams:generators.generateGoogleDocUrlWithParams,generateEmbeddedGoogleDocUrl:generators.generateEmbeddedGoogleDocUrl,isSupportedFileType:validators.isSupportedFormat};module.exports=gDocViewHelper;
