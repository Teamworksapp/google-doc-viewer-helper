"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var hasOwnProperty=Object.prototype.hasOwnProperty,objectToQueryString=function(r){var o=[];return Object.keys(r).forEach(function(e){o.push("".concat(e,"=").concat(encodeURIComponent(r[e])))}),o.join("&")},getFileExtension=function(e){return e&&e.includes(".")?e.split(".").pop().split("?").shift().toLowerCase():""},isEmpty=function(e){if(null==e)return!0;if(0<e.length)return!1;if(0===e.length)return!0;if("object"!==_typeof(e))return!0;for(var r in e)if(hasOwnProperty.call(e,r))return!1;return!0},generateUrl=function(e,r){var o=isEmpty(r)?"":"?".concat(objectToQueryString(r));return"".concat(e).concat(o)},supportedFormats={jpeg:!0,png:!0,gif:!0,tiff:!0,bmp:!0,mpeg4:!0,"3gpp":!0,mov:!0,avi:!0,mpegps:!0,wmv:!0,flv:!0,ogg:!0,doc:!0,docx:!0,xls:!0,xlsx:!0,ppt:!0,pptx:!0,pdf:!0,svg:!0,eps:!0,ps:!0,ttf:!0,xps:!0,mts:!0},googleBaseUrl="https://docs.google.com/",baseOptions={embedded:{key:"embedded",options:[!0,!1]},url:{key:"url",required:!0,mustEncode:!0}},supportedViewers={default:{baseUrl:"".concat(googleBaseUrl,"viewer"),options:baseOptions},gview:{baseUrl:"".concat(googleBaseUrl,"gview"),options:baseOptions,deprecated:!0}},hasOwnProperty$1=Object.prototype.hasOwnProperty,isSupportedFormat=function(e){var r=e?e.toLowerCase():"";return-1!==r.indexOf(".")&&(r=getFileExtension(r)),hasOwnProperty$1.call(supportedFormats,r)},validators={isSupportedFormat:isSupportedFormat},hasOwnProperty$2=Object.prototype.hasOwnProperty,getBadParamsMessage=function(e){return'Parameter "'.concat(e,'" will override default embed params.')},generateGoogleDocUrlWithParams=function(e,r){var o=supportedViewers[r]||supportedViewers.default;return validators.isSupportedFormat(e.url)||console.error('Invalid parameter "url", Google doc will still be returned but may yield unexpected results.'),generateUrl(o.baseUrl,e)},generateEmbeddedGoogleDocUrl=function(e,r,o){r&&(hasOwnProperty$2.call(r,"url")&&console.warn(getBadParamsMessage("url")),hasOwnProperty$2.call(r,"embedded")&&console.warn(getBadParamsMessage("embedded")));var t={embedded:!0,url:e},n=Object.assign({},t,r);return generateGoogleDocUrlWithParams(n,o)},generators={generateEmbeddedGoogleDocUrl:generateEmbeddedGoogleDocUrl,generateGoogleDocUrlWithParams:generateGoogleDocUrlWithParams},gDocViewHelper={generateGoogleDocUrlWithParams:generators.generateGoogleDocUrlWithParams,generateEmbeddedGoogleDocUrl:generators.generateEmbeddedGoogleDocUrl,isSupportedFileType:validators.isSupportedFormat};module.exports=gDocViewHelper;
